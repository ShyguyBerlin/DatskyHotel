[gd_scene load_steps=9 format=3 uid="uid://ccp45kjeqnsyn"]

[ext_resource type="PackedScene" uid="uid://eutlnvg2s8kt" path="res://nodes/HotelLoader.tscn" id="1_uu6xs"]
[ext_resource type="PackedScene" uid="uid://vbxq2syg5rg2" path="res://nodes/HotelDisplay.tscn" id="2_r0du0"]
[ext_resource type="PackedScene" uid="uid://k60e43mehr53" path="res://nodes/CenteredTouchScreenButton.tscn" id="3_cm0pq"]
[ext_resource type="Script" uid="uid://de4xbdajv2shh" path="res://HotelInputHandler.gd" id="4_3dxm6"]
[ext_resource type="Texture2D" uid="uid://b4tr0alsee1u" path="res://icon.svg" id="4_fos0i"]
[ext_resource type="Script" uid="uid://ei74hetppbva" path="res://scripts/Builder.gd" id="5_fos0i"]
[ext_resource type="Script" uid="uid://hiwflyyi2wjt" path="res://RoomButtonCreator.gd" id="6_lgr22"]
[ext_resource type="PackedScene" uid="uid://cbindtcewx1va" path="res://nodes/StandardHotelButton.tscn" id="7_trn2v"]

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="HotelLoader" parent="." node_paths=PackedStringArray("hotel_display_node") instance=ExtResource("1_uu6xs")]
hotel_display_node = NodePath("../Control/Hotel")

[node name="MoveLeft" parent="." instance=ExtResource("3_cm0pq")]
layout_mode = 1

[node name="Control" parent="MoveLeft" index="0"]
offset_left = -64.0
offset_top = -64.0
offset_right = -64.0
offset_bottom = -64.0

[node name="TouchScreenButton" parent="MoveLeft/Control" index="0"]
texture_normal = ExtResource("4_fos0i")
action = "ui_left"
visibility_mode = 1

[node name="MoveRight" parent="." instance=ExtResource("3_cm0pq")]
layout_mode = 1
anchor_left = 0.88
anchor_right = 0.88

[node name="Control" parent="MoveRight" index="0"]
offset_left = -64.0
offset_top = -64.0
offset_right = -64.0
offset_bottom = -64.0

[node name="TouchScreenButton" parent="MoveRight/Control" index="0"]
texture_normal = ExtResource("4_fos0i")
action = "ui_right"
visibility_mode = 1

[node name="HotelInputHandler" type="Node" parent="." node_paths=PackedStringArray("hotel_display_node")]
unique_name_in_owner = true
script = ExtResource("4_3dxm6")
hotel_display_node = NodePath("../Control/Hotel")

[node name="Control" type="Control" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="Hotel" parent="Control" instance=ExtResource("2_r0du0")]

[node name="Control2" type="HBoxContainer" parent="."]
custom_minimum_size = Vector2(800, 140)
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_top = 260.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("6_lgr22")
buttons = null

[node name="Button" parent="Control2" instance=ExtResource("7_trn2v")]
layout_mode = 2

[node name="Button2" type="Button" parent="Control2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 30
text = "Build Room Right
"
autowrap_mode = 1
clip_text = true

[node name="Button3" type="Button" parent="Control2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 30
text = "Expand to Residence
"
autowrap_mode = 1
clip_text = true

[node name="Button4" type="Button" parent="Control2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 30
text = "Build Floor Up
"
autowrap_mode = 1
clip_text = true

[node name="Button5" type="Button" parent="Control2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 30
text = "Build Floor Down
"
autowrap_mode = 1
clip_text = true

[node name="Button6" type="Button" parent="Control2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 30
text = "Deselect room"
autowrap_mode = 1
clip_text = true

[node name="Button7" type="Button" parent="Control2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 30
text = "Select Door"
autowrap_mode = 1
clip_text = true

[node name="Builder" type="Node2D" parent="."]
script = ExtResource("5_fos0i")

[connection signal="current_room_changed" from="Control/Hotel" to="Builder" method="set_current_room"]
[connection signal="pressed" from="Control2/Button2" to="Builder" method="build_room_to_right"]
[connection signal="pressed" from="Control2/Button3" to="Builder" method="make_room_to_residence"]
[connection signal="pressed" from="Control2/Button4" to="Builder" method="build_room_to_up"]
[connection signal="pressed" from="Control2/Button5" to="Builder" method="build_room_to_down"]
[connection signal="pressed" from="Control2/Button6" to="HotelInputHandler" method="unselect_room"]
[connection signal="pressed" from="Control2/Button7" to="HotelInputHandler" method="select_initial_room"]
[connection signal="built_stuff" from="Builder" to="Control/Hotel" method="draw_hotel"]
[connection signal="current_room_changed" from="Builder" to="Control/Hotel" method="change_current_room"]

[editable path="MoveLeft"]
[editable path="MoveRight"]
